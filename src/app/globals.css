@import "tailwindcss";

/* Global smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Scroll margin for sticky navbar - ensures focused content isn't obscured */
section[id] {
  scroll-margin-top: 5rem; /* 80px - accounts for navbar (h-14 = 56px) + safe padding */
}

/* Respect reduced motion preference for scroll behavior */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  
  section[id] {
    scroll-margin-top: 4rem; /* Slightly less offset when motion is reduced */
  }
}

/* Font family utilities (variables set by Next.js fonts in layout.tsx) */
.font-sans {
  font-family: var(--font-sans), system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

.font-heading {
  font-family: var(--font-family-heading);
  font-weight: var(--font-weight-semibold, 600);
}

.font-mono {
  font-family: var(--font-mono), ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* Default body styling */
body {
  min-height: 100vh;
  background-color: var(--bg);
  color: var(--fg);
  font-family: var(--font-sans);
  font-feature-settings: "liga" 1, "calt" 1;
  -webkit-font-smoothing: antialiased;
  line-height: 1.6;
}

/* Base typography styles */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-family-heading);
  color: var(--heading);
  font-weight: var(--font-weight-semibold, 600);
  line-height: 1.2;
  letter-spacing: -0.02em; /* Tight tracking as per PRD */
}

h1, h2 {
  font-weight: var(--font-weight-bold, 700); /* 700 for main headlines */
}

h1 {
  font-size: 2.25rem; /* 36px */
  line-height: 1.1;
}

h2 {
  font-size: 1.875rem; /* 30px */
  line-height: 1.2;
}

h3 {
  font-size: 1.5rem; /* 24px */
  line-height: 1.3;
}

p {
  margin-bottom: 1rem;
  max-width: 65ch;
}

/* Responsive typography */
@media (min-width: 768px) {
  h1 {
    font-size: 3rem; /* 48px */
  }
  
  h2 {
    font-size: 2.25rem; /* 36px */
  }
  
  h3 {
    font-size: 1.875rem; /* 30px */
  }
}

@media (min-width: 1024px) {
  h1 {
    font-size: 3.75rem; /* 60px */
  }
}

/* Custom animations */
@keyframes pulse-dot {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.5;
    transform: scale(0.95);
  }
}

.animate-pulse-dot {
  animation: pulse-dot 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* HeroVisual entrance animation - slide in from right with fade */
@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-slide-in-right {
  animation: slide-in-right 0.4s ease-out 0.1s both;
}

/* Subtle bounce animation for scroll indicator */
@keyframes subtle-bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(8px);
  }
}

.animate-subtle-bounce {
  animation: subtle-bounce 2s ease-in-out infinite;
}

/* Infinite marquee animation for TechTicker - scrolls from right to left */
/* With 4 sets of items, animate to -25% (exactly one set) for seamless infinite loop */
@keyframes marquee {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-25%);
  }
}

.animate-marquee {
  animation: marquee 35s linear infinite;
  will-change: transform;
}

/* Reduced motion support for accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  /* Disable pulsing animation for reduced motion */
  .animate-pulse-dot {
    animation: none;
    opacity: 1;
  }
  
  /* Disable entrance animations for reduced motion */
  .animate-slide-in-right {
    animation: none;
    opacity: 1;
    transform: none;
  }
  
  /* Disable bounce animation for reduced motion */
  .animate-subtle-bounce {
    animation: none;
    transform: none;
  }
  
  /* Disable marquee animation for reduced motion */
  .animate-marquee {
    animation: none;
    transform: none;
  }
}

/* Layout utilities */
@layer utilities {
  /* Container with max-width and consistent padding */
  .container {
    @apply mx-auto w-full max-w-5xl px-4 sm:px-6 lg:px-8;
  }
  
  /* Section vertical padding */
  .section {
    @apply py-12 md:py-16;
  }
  
  /* Prose container for readable text (65ch measure) */
  .prose-container {
    max-width: 65ch;
  }
  
  /* Focus styles for better accessibility */
  .focus-visible {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal focus-visible:ring-offset-2;
  }

  /* Glass effect for light theme - subtle background with backdrop blur */
  .glass-effect {
    @apply bg-white/80 backdrop-blur-xl border border-gray-200/50;
  }

  /* Section backgrounds for light theme */
  .bg-section-dark {
    @apply bg-gray-50;
  }

  .bg-section-light {
    @apply bg-white;
  }

  /* Theme text colors using CSS variables */
  .text-theme-primary {
    color: var(--heading);
  }

  .text-theme-secondary {
    color: var(--muted-foreground);
  }

  .text-theme-muted {
    color: var(--muted-foreground);
  }

  /* Gradient card background for light theme */
  .bg-gradient-card {
    @apply bg-white border border-gray-200;
  }
}

/* Selection colors */
::selection {
  background-color: var(--accent-soft);
  color: var(--fg);
}

::-moz-selection {
  background-color: var(--accent-soft);
  color: var(--fg);
}

/* Tailwind CSS 4 theme configuration with PRD colors - Light Theme */
@theme inline {
  /* PRD Color Palette - Available as Tailwind utilities (bg-teal, text-charcoal, etc.) */
  --color-teal: #00d4aa;
  --color-teal-dark: #00a888; /* Darker variant for better text contrast on light backgrounds */
  --color-gold: #ffd700;
  --color-charcoal: #1a1a1a;
  --color-offwhite: #f8f9fa;
  
  /* Light Theme - Semantic Color Tokens */
  /* Available as: bg-base, bg-surface, text-accent-primary, text-accent-secondary, text-high, text-muted */
  --color-base: #f8f9fa;           /* Background */
  --color-surface: #ffffff;        /* Surface/Cards */
  --color-accent-primary: #00d4aa;  /* Primary Accent (Teal) */
  --color-accent-secondary: #ffd700; /* Secondary Accent (Gold) */
  --color-text-high: #111827;       /* Text High */
  --color-text-muted: #64748b;      /* Text Muted */
  
  /* Neutral grays */
  --color-slate-50: #f8fafc;
  --color-slate-100: #f1f5f9;
  --color-slate-200: #e2e8f0;
  --color-slate-600: #475569;
  --color-slate-700: #334155;
  --color-slate-800: #1e293b;
  --color-slate-900: #0f172a;
  
  /* Border color utility */
  --color-border: #e2e8f0;
  
  /* Spacing scale (4/8px grid) */
  --spacing-1: 0.25rem;  /* 4px */
  --spacing-2: 0.5rem;   /* 8px */
  --spacing-3: 0.75rem;  /* 12px */
  --spacing-4: 1rem;     /* 16px */
  --spacing-6: 1.5rem;   /* 24px */
  --spacing-8: 2rem;     /* 32px */
  --spacing-12: 3rem;    /* 48px */
  
  /* Border radius (subtle) */
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  
  /* Max width for prose (65ch) */
  --max-width-prose: 65ch;
  
  /* Typography - Font Families */
  /* Available as: font-heading, font-mono */
  --font-family-heading: var(--font-sans), Inter, system-ui, -apple-system, sans-serif;
  --font-family-mono: var(--font-mono), "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  
  /* Typography - Font Weights */
  /* Available as: font-semibold (600), font-bold (700) */
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
}

/* CSS Variables for design tokens */
:root {
  /* Core colors */
  --bg: #f8f9fa;
  --fg: #111827;
  --accent: #00d4aa;
  --accent-soft: rgba(0, 212, 170, 0.08);
  --border: #e2e8f0;
  --muted: #f1f5f9;
  --muted-foreground: #64748b;
  
  /* Semantic tokens */
  --background: var(--bg);
  --foreground: var(--fg);
  --primary: var(--accent);
  --primary-foreground: #ffffff;
  --secondary: var(--muted);
  --secondary-foreground: var(--fg);
  --card: #ffffff;
  --card-foreground: var(--fg);
  --border-color: var(--border);
  --ring: var(--accent);
  
  /* Heading color */
  --heading: #1a1a1a;
  
  /* Featured/accent color (Gold) */
  --featured: #ffd700;
  --featured-foreground: #1a1a1a;
  
  /* Typography CSS Variables (for non-Tailwind styles) */
  --font-heading: var(--font-family-heading);
  --font-mono: var(--font-family-mono);
  --font-weight-semibold: var(--font-weight-semibold, 600);
  --font-weight-bold: var(--font-weight-bold, 700);
}
